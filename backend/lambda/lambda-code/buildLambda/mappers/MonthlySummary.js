"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mapSpendingSummaryToChatInput = void 0;
exports.mapDynamoDBToMonthlySummary = mapDynamoDBToMonthlySummary;
// Mapper function for DynamoDB to Transaction interface
function mapDynamoDBToMonthlySummary(item) {
    return {
        __typename: 'SpendingSummary', // Fixed typename value
        spending: item.spending ? JSON.stringify({ ...item.spending?.M }) : undefined,
        sk: item.sk?.S,
    };
}
const mapSpendingSummaryToChatInput = (summary) => {
    let chatInput = '';
    // Build the chat input string using the fields in the Transaction object
    const spending = JSON.parse(summary?.spending ?? '{}');
    chatInput += `(Date: ${summary.sk || 'N/A'}\n`;
    chatInput += 'Spending Summary:\n';
    for (const [category, amount] of Object.entries(spending)) {
        chatInput += `  - ${category}: $${amount.N}\n`;
    }
    return chatInput;
};
exports.mapSpendingSummaryToChatInput = mapSpendingSummaryToChatInput;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9udGhseVN1bW1hcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWFwcGVycy9Nb250aGx5U3VtbWFyeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFJQSxrRUFNQztBQVBELHdEQUF3RDtBQUN4RCxTQUFnQiwyQkFBMkIsQ0FBQyxJQUF1QztJQUMvRSxPQUFPO1FBQ0gsVUFBVSxFQUFFLGlCQUFpQixFQUFFLHVCQUF1QjtRQUN0RCxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO1FBQzdFLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7S0FDakIsQ0FBQTtBQUNMLENBQUM7QUFFTSxNQUFNLDZCQUE2QixHQUFHLENBQUMsT0FBd0IsRUFBVSxFQUFFO0lBQzlFLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQTtJQUNsQix5RUFBeUU7SUFDekUsTUFBTSxRQUFRLEdBQWtDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFFBQVEsSUFBSSxJQUFJLENBQUMsQ0FBQTtJQUNyRixTQUFTLElBQUksVUFBVSxPQUFPLENBQUMsRUFBRSxJQUFJLEtBQUssSUFBSSxDQUFBO0lBQzlDLFNBQVMsSUFBSSxxQkFBcUIsQ0FBQTtJQUNsQyxLQUFLLE1BQU0sQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO1FBQ3hELFNBQVMsSUFBSSxPQUFPLFFBQVEsTUFBTSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUE7SUFDbEQsQ0FBQztJQUNELE9BQU8sU0FBUyxDQUFBO0FBQ3BCLENBQUMsQ0FBQTtBQVZZLFFBQUEsNkJBQTZCLGlDQVV6QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZVZhbHVlIH0gZnJvbSAnYXdzLXNkay9jbGllbnRzL2R5bmFtb2RiJ1xuaW1wb3J0IHsgU3BlbmRpbmdTdW1tYXJ5LCBUcmFuc2FjdGlvbiB9IGZyb20gJy4uL0FQSSdcblxuLy8gTWFwcGVyIGZ1bmN0aW9uIGZvciBEeW5hbW9EQiB0byBUcmFuc2FjdGlvbiBpbnRlcmZhY2VcbmV4cG9ydCBmdW5jdGlvbiBtYXBEeW5hbW9EQlRvTW9udGhseVN1bW1hcnkoaXRlbTogeyBba2V5OiBzdHJpbmddOiBBdHRyaWJ1dGVWYWx1ZSB9KTogU3BlbmRpbmdTdW1tYXJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBfX3R5cGVuYW1lOiAnU3BlbmRpbmdTdW1tYXJ5JywgLy8gRml4ZWQgdHlwZW5hbWUgdmFsdWVcbiAgICAgICAgc3BlbmRpbmc6IGl0ZW0uc3BlbmRpbmcgPyBKU09OLnN0cmluZ2lmeSh7IC4uLml0ZW0uc3BlbmRpbmc/Lk0gfSkgOiB1bmRlZmluZWQsXG4gICAgICAgIHNrOiBpdGVtLnNrPy5TLFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IG1hcFNwZW5kaW5nU3VtbWFyeVRvQ2hhdElucHV0ID0gKHN1bW1hcnk6IFNwZW5kaW5nU3VtbWFyeSk6IHN0cmluZyA9PiB7XG4gICAgbGV0IGNoYXRJbnB1dCA9ICcnXG4gICAgLy8gQnVpbGQgdGhlIGNoYXQgaW5wdXQgc3RyaW5nIHVzaW5nIHRoZSBmaWVsZHMgaW4gdGhlIFRyYW5zYWN0aW9uIG9iamVjdFxuICAgIGNvbnN0IHNwZW5kaW5nOiBSZWNvcmQ8c3RyaW5nLCB7IE46IHN0cmluZyB9PiA9IEpTT04ucGFyc2Uoc3VtbWFyeT8uc3BlbmRpbmcgPz8gJ3t9JylcbiAgICBjaGF0SW5wdXQgKz0gYChEYXRlOiAke3N1bW1hcnkuc2sgfHwgJ04vQSd9XFxuYFxuICAgIGNoYXRJbnB1dCArPSAnU3BlbmRpbmcgU3VtbWFyeTpcXG4nXG4gICAgZm9yIChjb25zdCBbY2F0ZWdvcnksIGFtb3VudF0gb2YgT2JqZWN0LmVudHJpZXMoc3BlbmRpbmcpKSB7XG4gICAgICAgIGNoYXRJbnB1dCArPSBgICAtICR7Y2F0ZWdvcnl9OiAkJHthbW91bnQuTn1cXG5gXG4gICAgfVxuICAgIHJldHVybiBjaGF0SW5wdXRcbn1cbiJdfQ==